<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Curling I/O - Widget Example</title>
  <link rel="icon" href="data:;base64,iVBORwOKGO=" />

  <!-- IGNORE EVERYTHING ABOVE THIS LINE -->

  <!-- The script and css include links below would ideally go in the head of your html document, but you can play around to see what works (depending on your CMS) -->

  <!-- REQUIRED. This script tag is required to load the widget. -->
  <script src="https://pairshaped.github.io/curlingio-results/prod.min.js"></script>

  <!-- REQUIRED. This stylesheet is required to layout the components. You can instead load your own customized version of bootstrap 4 though, for example one that came with your wordpress theme. -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <!-- OPTIONAL. This fixes the active state for bootstrap link button styles. -->
  <style>
    .btn:focus, .btn:active {
      outline: none !important;
      box-shadow: none !important;
      -webkit-box-shadow: none !important;
    }
  </style>

</head>
<body>

  <!-- OPTIONAL. This is just a wrapper container for padding / margin. You probably don't want this if embedding into a CMS. -->
  <div class="container py-4">

    <!-- REQUIRED. This is the div the widget replaces. The ID of this div must match the getElemenetById below that's passed to the node. If you change the ID here, make sure you also change it down there. -->
    <div id="curlingio_results"></div>

  </div>

  <script>
    // REQUIRED. This is how we initialize the widget. You have several options you can configure. Read them over for more information.
    var scoring = Elm.Results.init(
      {
        node: document.getElementById("curlingio_results"), // REQUIRED. Must match the ID of the div we're replacing, which is "results" in this example.
        flags: {
          subdomain: "demo", // REQUIRED. This is your club's Curling I/O subdomain. For example, if your Curling I/O URL begins with "demo.curling.io" then the "demo" part would be your subdomain.
          section: "leagues", // OPTIONAL. Can be "leagues", "competition", or "products". Will default to "leagues" if omitted or an invalid value is passed.
          registration: true, // OPTIONAL. Set to false if you don't want prices and the add to cart / register / waitlist buttons to show up.
          // eventId: 3742, // OPTIONAL. If you only want to show one specific event, enter it's ID here.
          // excludeEventSections: ["details", "registrations"], // OPTIONAL. Event sections you don't want to show up. Possible values: "details", "registrations", "draws", "stages", "teams", "reports"
          // defaultEventSection: "draws", // OPTIONAL. If you want a default event section other than the details view. Possible values: "registrations", "spares", "draws", "stages", "teams", "reports"
          lang: "en", // OPTIONAL. Options are "en" or "fr". Defaults to "en" if nothing is passed. If your using wordpress, it should expose a 2 letter language code that can be passed here.
          host: document.location.host, // REQUIRED - DO NOT MODIFY. Let's us make slight behavioural changes when hosted offsite versus within your curling.io site.
          hash: document.location.hash, // REQUIRED - DO NOT MODIFY. This will allow users to bookmark and share specific event links.
        }
      }
    )

    // REQUIRED - DO NOT MODIFY. Used for navigation to hopfully prevent third party script interference.
    scoring.ports.navigateTo.subscribe(function(newHash) {
      document.location.hash = newHash
    })

    // REQUIRED - DO NOT MODIFY. Used for navigation.
    addEventListener("hashchange", (event) => {
      scoring.ports.hashChangeReceiver.send(location.hash)
    })
  </script>

  <!-- IGNORE EVERYTHING BELOW THIS LINE -->

</body>
</html>
